# this file is generated by ./cmd/gen/main.go
version: 1.0.0
name: image2disk
displayName: image2disk
createdAt: "2021-01-20T12:41:45.14Z"
description: This action will stream a remote disk image (raw) to a block device, and is mainly used to write cloud images to a disk. It is recommended to use the `qemu-img` tool to convert disk images into raw, it is also possible to compress the raw images with tar+gzip to prevent wasted disk space
logoPath: ./../../logo.png
license: Apache-2
homeURL: https://github.com/tinkerbell/actions
appVersion: 1.0.0
containersImages:
    - name: image2disk
      image: quay.io/tinkerbell-actions/image2disk:v1.0.0
keywords:
    - disk
links:
    - name: website
      url: https://tinkerbell.org/
    - name: support
      url: https://github.com/tinkerbell/actions/issues
readme: |+
    The below example will stream a raw ubuntu cloud image (converted by qemu-img) and write it to the block storage disk `/dev/sda`. The raw image is uncompressed in this example.

    ```
    actions:
        - name: "stream ubuntu"
          image: quay.io/tinkerbell-actions/image2disk:v1.0.0
          timeout: 90
          environment:
              IMG_URL: http://192.168.1.2/ubuntu.raw
              DEST_DISK: /dev/sda
              COMPRESSED: false
    ```

    The below example will stream a compressed raw ubuntu cloud image (converted by qemu-img) and then compressed with gzip to reduce local space.

    ```
    qemu-img convert ubuntu.img ubuntu.raw
    gzip ubuntu.raw
    ```

    ```
    actions:
        - name: "stream ubuntu"
          image: quay.io/tinkerbell-actions/image2disk:v1.0.0
          timeout: 90
          environment:
              IMG_URL: http://192.168.1.2/ubuntu.tar.gz
              DEST_DISK: /dev/sda
              COMPRESSED: true
    ```

    ##Â Compression format supported:

    * bzip2 (`.bzip2`)
    * gzip (`.gz`)
    * xz (`.xz`)
    * xs (`.xs`)

provider:
    name: tinkerbell-community
